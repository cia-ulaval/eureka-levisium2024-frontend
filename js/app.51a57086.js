(function(){"use strict";var A={5337:function(A,g,I){var C=I(9242),t=I(4161),e=I(3396);function a(A,g,I,C,t,a){const i=(0,e.up)("ThreeCanvas");return(0,e.wg)(),(0,e.j4)(e.n4,null,{default:(0,e.w5)((()=>[(0,e.Wm)(i)])),_:1})}I(7658);var i=I(4870),o=I(7139),n=I.p+"img/arrow.9345d8cb.svg",s=I(1639),r=I(3773),l=I.p+"img/face.06127b7b.svg",c=I.p+"img/cloudversify.c4d0d714.svg",u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMMAAADCCAYAAAD0I3YPAAAAxnpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjabVBbDsMgDPvPKXYE8igNx6GUSbvBjr8E0qmtagk3tSOTAP37ecPLQSggy6q55JwMUqRQtULTRB2MSQYPNA4Przo0CoNM8qZo1Bz9h47/gPmpVi2nIG1hbFejSOTrLSguYp/Ih9gjqEQQ0zQwAupcK+Wi63mFracrdB5wan1kJ4zb7v+y2uvti4lM1NlkY2adA7AfAa5WZGNkG8qYrHbT9WMle5CndzoAP9FqWjAfMGW4AAABfmlDQ1BJQ0MgcHJvZmlsZQAAeJx9kTtIA0EURc9u/CEJEUwhYrFFtNJGRbSLUQiCQogKiVq4nyQGsptlN8HGUrAVLPw0Ri1srLW1sBUEwQ+ItYWVoo3IyiSBBDG+Zg533n3MuwNyOa+bbksETKvoJGJRJZlaUtpfaCNAF34mVN21J+PxWZrW5x2SOG+HxKzmfX9WwEi7OkgKENFtpwjSKjC2XrQF7wEhfU01QDoDBp1kagmkB6FrVX4VnK2wLGaGnIXEFMghQMk2sNbA+ppjgjwKhA3TMkBOVtkQvCHYzJf02jvFhv60tTgvdKCPGDPMEUdBo0SOPEWGyGGh4JIgRrSJv7fij1NCI08OHYVpCpioFT/iD35n62ZGhquT/FFoffa8935o34Hvbc/7OvK872PwPcGlVfcXyjD+Ab7tuhY+hOAmnF/VNW0XLrag59FWHbUi+QA5k4G3UwikoPsGOperudXuObmHhQ2YvYb9AxjIQnClyd4djbn921PL7wehSXK5qh74iAAADXhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDQuNC4wLUV4aXYyIj4KIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgIHhtbG5zOkdJTVA9Imh0dHA6Ly93d3cuZ2ltcC5vcmcveG1wLyIKICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICB4bXBNTTpEb2N1bWVudElEPSJnaW1wOmRvY2lkOmdpbXA6ODlkMmYxMjQtZTEzYS00YTMwLWFmNWItYWJiZmFiM2MzMDNhIgogICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhkNmUwMmRjLTI5N2UtNDQ2NS1hOTMzLWIzZjk4MzliMzRhMyIKICAgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjY5NmE2MGE3LWIyODYtNDYwYS1iMDFiLTE2ZjczMGE3YTc3MSIKICAgZGM6Rm9ybWF0PSJpbWFnZS9wbmciCiAgIEdJTVA6QVBJPSIyLjAiCiAgIEdJTVA6UGxhdGZvcm09IkxpbnV4IgogICBHSU1QOlRpbWVTdGFtcD0iMTcxODI5NTYwNTIzNTQxOCIKICAgR0lNUDpWZXJzaW9uPSIyLjEwLjM4IgogICB0aWZmOk9yaWVudGF0aW9uPSIxIgogICB4bXA6Q3JlYXRvclRvb2w9IkdJTVAgMi4xMCIKICAgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyNDowNjoxM1QxMjoyMDowMy0wNDowMCIKICAgeG1wOk1vZGlmeURhdGU9IjIwMjQ6MDY6MTNUMTI6MjA6MDMtMDQ6MDAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo0MGJhMmJkZS00MDkzLTRiNmUtODY4Yi1hYjhlNjE4NWE4NzQiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDI0LTA2LTEzVDEyOjIwOjA1LTA0OjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Pu7Py3EAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoBg0QFAUJC56YAAAHpElEQVR42u3dTWiTdxzA8V+TtjFp07dtMGuHLGP1UmvB4WFMdLeAlPayMaQMqpfJDnNDRCgeN0SEnUbdQQWRTfRikUFvTnw5CIVu7mKGHWNtPYz1LbFpEtPs8PjUtE2a5zH/53n+ffL9gAhaY5M+3+f1//yfulyuUBAAEuAjAIgBIAaAGABiAIgBIAaAGABiAIgBIAaAGABiAIgBIAaAGABiAIgBIAaAGABiAIgBIAaAGABiAIgBIAaAGABiAIgBIAaAGABiAIgBIAaAGABiAEAMADEAxAAQA0AMADEAxAAQA0AMADEAxAAQA0AMADEAxAAQA0AMADEAxAAQA0AMADEAxAAQA0AMADEAxAAQA0AMADEAxAAQA+B39bX+AaST2ar+fTjayFJEDNvH3MyyPHqYk1u3G+XK7xsX3mCVr54v+zfDvVkZjK9IbE9A3ukOE47m6nK5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",h=I.p+"img/toy.c50812cd.svg",p="data:image/png;base64,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";const d={key:0,class:"modal-content"},m=(0,e._)("div",{class:"title-container"},[(0,e._)("h2",null,"VOTRE RÉSULTAT"),(0,e._)("img",{class:"logo-img face-img",src:l,alt:"human"})],-1),f={class:"scoreboard"},M={class:"scoreboard-item"},b=(0,e._)("h3",{class:"score-label"},"CO2",-1),v={class:"score-value"},w={class:"scoreboard-item"},G=(0,e._)("h3",{class:"score-label"},"Temps d'arrêt",-1),D={class:"score-value"},Y={class:"containerImg"},k=(0,e._)("img",{class:"car-img",src:u,alt:"car"},null,-1),B=(0,e._)("div",{class:"title-container"},[(0,e._)("h2",null,"LE RÉSULTAT DE L'IA"),(0,e._)("img",{class:"logo-img toy-img",src:h,alt:"robot"})],-1),E={class:"scoreboard"},P={class:"scoreboard-item"},y=(0,e._)("h3",{class:"score-label"},"CO2",-1),Q={class:"score-value"},T={class:"scoreboard-item"},S=(0,e._)("h3",{class:"score-label"},"Temps d'arrêt",-1),Z={class:"score-value"},O={class:"containerImg"},j=(0,e._)("img",{class:"car-img",src:p,alt:"car"},null,-1);function N(A,g,I,C,t,a){return(0,e.wg)(),(0,e.iD)("div",null,[I.showModal?((0,e.wg)(),(0,e.iD)("div",d,[(0,e._)("span",{class:"close",onClick:g[0]||(g[0]=(...A)=>a.closeModal&&a.closeModal(...A))},"×"),m,(0,e._)("div",f,[(0,e._)("div",M,[b,(0,e._)("p",v,(0,o.zw)(I.score.co2)+" g",1)]),(0,e._)("div",w,[G,(0,e._)("p",D,(0,o.zw)(I.score.wait)+" secondes",1)])]),(0,e._)("div",Y,[(0,e._)("img",{class:"cloud-img",src:c,alt:"cloud",style:(0,o.j5)({height:I.score.co2/100*120+"px"})},null,4),k]),B,(0,e._)("div",E,[(0,e._)("div",P,[y,(0,e._)("p",Q,(0,o.zw)(I.aiScore.co2)+" g",1)]),(0,e._)("div",T,[S,(0,e._)("p",Z,(0,o.zw)(I.aiScore.wait)+" secondes",1)])]),(0,e._)("div",O,[(0,e._)("img",{class:"cloud-img",src:c,alt:"cloud",style:(0,o.j5)({height:I.aiScore.co2/100*120+"px"})},null,4),j])])):(0,e.kq)("",!0)])}var W={props:{showModal:{type:Boolean,default:!1},score:{default:{co2:0,wait:0}},aiScore:{default:{co2:0,wait:0}}},methods:{closeModal(){this.$emit("close-modal")}}},R=I(89);const H=(0,R.Z)(W,[["render",N]]);var V=H,U=JSON.parse("[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,1,0,1],[1,0,0,1,0,0,0,0,0,1,0,1,1,1,0,0,1,1,1],[1,0,0,1,0,0,0,0,0,1,1,1,0,1,1,1,1,0,1],[1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,0,1,0,1],[1,0,0,0,0,0,0,0,0,1,0,1,1,1,0,0,1,0,1],[1,1,1,0,0,0,1,1,1,1,0,1,0,1,0,0,1,0,1],[1,0,1,1,1,1,1,0,0,1,1,1,0,1,0,0,1,1,1],[1,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,1,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,1,0,1,0,1,0,1,0,1,0,0,1,0,0,0,1],[1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1],[1,0,0,1,0,1,0,0,0,1,0,1,0,0,1,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,1,0,0,0,1,0,1,0,0,0,0,1,0,0,0,0,1],[1,0,1,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1],[1,0,1,1,1,0,1,0,1,0,1,0,0,1,0,1,0,0,1],[1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,0,1],[1,1,1,1,1,1,1,0,0,0,1,0,0,0,0,1,0,0,1],[1,0,0,0,1,0,1,0,1,1,1,0,0,0,0,1,1,1,1],[1,0,0,0,1,0,1,0,1,0,1,0,0,0,0,1,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]"),x=JSON.parse("[[100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100],[100,0,0,50,0,0,0,0,0,50,0,0,0,50,0,0,50,0,70],[100,0,0,50,0,0,0,0,0,50,0,50,50,50,0,0,50,50,70],[100,0,0,50,0,0,0,0,0,50,50,50,0,50,50,50,50,0,70],[100,50,50,50,50,50,50,50,50,50,0,0,0,50,0,0,50,0,70],[100,0,0,0,0,0,0,0,0,50,0,50,50,50,0,0,50,0,70],[100,50,50,0,0,0,50,50,50,50,0,50,0,50,0,0,50,0,70],[100,0,50,50,50,50,50,0,0,50,50,50,0,50,0,0,50,50,70],[100,0,0,0,0,0,50,0,0,50,0,0,0,50,0,0,50,0,70],[100,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70],[100,0,0,50,0,30,0,30,0,30,0,30,0,0,30,0,0,0,70],[100,0,0,50,50,30,50,50,50,30,50,30,30,30,30,0,0,0,70],[100,0,0,50,0,30,0,0,0,30,0,30,0,0,30,0,0,0,70],[100,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70],[100,0,30,0,0,0,50,0,50,0,0,0,0,30,0,0,0,0,70],[100,0,30,0,0,0,50,50,50,50,30,30,30,30,50,50,0,0,70],[100,0,30,30,30,0,50,0,50,0,50,0,0,50,0,30,0,0,70],[100,0,30,0,30,0,50,50,50,50,50,50,50,50,50,30,0,0,70],[100,30,30,30,30,30,30,0,0,0,50,0,0,0,0,30,0,0,70],[100,0,0,0,30,0,30,0,30,30,50,0,0,0,0,30,30,30,70],[100,0,0,0,30,0,30,0,30,0,50,0,0,0,0,30,0,0,70],[100,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70]]"),z=JSON.parse("[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,2,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,2],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,0,0,2,2,0,2,0,0,0,0,2,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,2,0,0,2,1,0,2,0,0,0,0,0,0,0,0,0,2],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,0,2,0,1,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0,2,0,0,0,0,0],[0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,0,0,0,2]]");async function L(){const A=`${t.Z.defaults.baseURL}map`;return t.Z.get(A).then((A=>A.data))}async function F(A){const g=`${t.Z.defaults.baseURL}score`,I={path:A};return t.Z.post(g,I).then((A=>A.data))}var J=I(1114);const X=A=>((0,e.dD)("data-v-15870466"),A=A(),(0,e.Cn)(),A),K={class:"container disable-double-tap-zoom"},q={key:0,class:"gamePad"},_=X((()=>(0,e._)("br",null,null,-1))),$=X((()=>(0,e._)("img",{src:n,class:"up"},null,-1))),AA=[$],gA=X((()=>(0,e._)("br",null,null,-1))),IA=X((()=>(0,e._)("img",{src:n,class:"left"},null,-1))),CA=[IA],tA=X((()=>(0,e._)("img",{src:n,class:"down"},null,-1))),eA=[tA],aA=X((()=>(0,e._)("img",{src:n,class:"right"},null,-1))),iA=[aA],oA=400,nA=200;let sA=null,rA=null,lA=null,cA=null,uA=null,hA=null,pA=null,dA=null;const mA={name:"ThreeCanvas",components:{OrbitControls:s.zx,TresCanvas:r.OV},data(){return{camera:{position:[0,300,-800],far:1e5},mapCenter:[15,1,13],car:{position:[15,1,13],color:"orange",dimensions:[.5,.5,.5]},map:[],showModal:!1,intersection:[],tensor:U,speedTensor:x,stopTensor:z,trafficTensor:[],start:[],end:[],score:{},aiScore:{},aiPath:null,humanPath:null}},computed:{carPosition(){return this.car}},methods:{resetMap(){this.aiPath=null,this.humanPath=null,sA(!1),this.setCamera(),this.tensorToMap(),this.tensorToIntersection()},getShowModal(){return this.showModal},setShowModal(A){this.showModal=A},setMap(A){this.humanPath=A,this.setCamera(),this.pathToMap(),this.tensorToIntersection()},setCamera(){this.showModal?(this.camera.position=[0,1e4,-8e3],this.mapCenter=[15,-10,13],this.camera.far=null):(this.camera.position=[0,300,-800],this.camera.far=1e5)},robustGet(A,g,I=null){return g<0||I<0||void 0===A[g]||void 0===A[g][I]?null:A[g][I]},findAppropriateMap(A){function g(g){return g[0]===A[0]&&g[1]===A[1]}if(this.aiPath&&this.aiPath.find(g))return"aiPath";if(this.humanPath&&this.humanPath.find(g))return"humanPath";const I=A[0],C=A[1];return 1===this.robustGet(this.tensor,I,C-1)&&1===this.robustGet(this.tensor,I,C+1)&&1!==this.robustGet(this.tensor,I-1,C)&&1!==this.robustGet(this.tensor,I+1,C)?"upDown":1!==this.robustGet(this.tensor,I,C-1)&&1!==this.robustGet(this.tensor,I,C+1)&&1===this.robustGet(this.tensor,I-1,C)&&1===this.robustGet(this.tensor,I+1,C)?"leftRight":"other"},move(A){switch(A){case"up":pA="up";break;case"left":pA="left";break;case"right":pA="right";break;case"down":pA="down";break;default:break}},findNextIntersection(){const A=this.car.position[0],g=this.car.position[2],I=this.intersection,C=this.tensor;return g>0&&2===C[A][g-1]&&I.push([A,g-1]),g<C[A].length-1&&2===C[A][g+1]&&I.push([A,g+1]),A>0&&2===C[A-1][g]&&I.push([A-1,g]),A<C.length-1&&2===C[A+1][g]&&I.push([A+1,g]),I},tensorToMap(){let A=[],g=this.start[0]*oA,I=this.start[1]*oA;A.push({position:[this.end[0]*oA-g,nA,this.end[1]*oA-I],map:"rainbow",dimensions:[oA,oA,oA]});for(let C=0;C<this.tensor.length;C++)for(let t=0;t<this.tensor[C].length;t++){if(1===this.tensor[C][t]){let e=[C*oA-g,-nA,t*oA-I],a=this.findAppropriateMap([C,t]),i=[oA,oA,oA],o="orange";30===this.speedTensor[C][t]?o="red":70===this.speedTensor[C][t]?o="yellow":100===this.speedTensor[C][t]&&(o="green"),A.push({position:e,color:o,dimensions:i,map:a})}0===this.tensor[C][t]&&A.push({position:[C*oA-g,-nA,t*oA-I],map:"grass",dimensions:[oA,oA,oA]})}this.map=A},tensorToIntersection(){let A=this.start[0]*oA,g=this.start[1]*oA,I=[];for(let C=0;C<this.stopTensor.length;C++)for(let t=0;t<this.stopTensor[C].length;t++)1===this.stopTensor[C][t]&&I.push({position:[C*oA-A,oA-nA,t*oA-g],map:"stop",dimensions:[.3*oA,.3*oA,.3*oA]}),2===this.stopTensor[C][t]&&I.push({position:[C*oA-A,oA-nA,t*oA-g],map:"light",dimensions:[.3*oA,.3*oA,.3*oA]});this.intersection=I},pathToMap(){let A=[],g=this.start[0]*oA,I=this.start[1]*oA;A.push({position:[this.end[0]*oA-g,nA,this.end[1]*oA-I],map:"rainbow",dimensions:[oA,oA,oA]});for(let C=0;C<this.tensor.length;C++)for(let t=0;t<this.tensor[C].length;t++){if(1===this.tensor[C][t]){let e=[C*oA-g,-nA,t*oA-I],a=this.findAppropriateMap([C,t]),i=[oA,oA,oA],o="white";A.push({position:e,color:o,dimensions:i,map:a})}0===this.tensor[C][t]&&A.push({position:[C*oA-g,-nA,t*oA-I],map:"grass",dimensions:[oA,oA,oA]})}this.map=A},async fetchMap(){const A=await L();this.start=A.start,this.end=A.end,this.trafficTensor=A.traffic},async fetchScore(A){const g=await F(A);this.score=g.human_stats,this.aiScore=g.AI_stats,this.aiPath=g.AI_path}},async mounted(){sA=this.setShowModal,rA=this.getShowModal,lA=this.fetchScore,cA=this.setMap,await this.fetchMap(),uA=this.start,hA=this.end,this.tensorToIntersection(),this.tensorToMap()}};var fA=Object.assign(mA,{async setup(A){let g,I;const C=([g,I]=(0,e.mv)((()=>(0,r.mE)({map:"/textures/upDown.jpg"}))),g=await g,I(),g),t=([g,I]=(0,e.mv)((()=>(0,r.mE)({map:"/textures/leftRight.jpg"}))),g=await g,I(),g),a=([g,I]=(0,e.mv)((()=>(0,r.mE)({map:"/textures/otherIntersection.jpg"}))),g=await g,I(),g),n=([g,I]=(0,e.mv)((()=>(0,r.mE)({map:"/textures/grass.jpg"}))),g=await g,I(),g),l=([g,I]=(0,e.mv)((()=>(0,r.mE)({map:"/textures/streetLights.png"}))),g=await g,I(),g),c=([g,I]=(0,e.mv)((()=>(0,r.mE)({map:"/textures/stop.png"}))),g=await g,I(),g),u=([g,I]=(0,e.mv)((()=>(0,r.mE)({map:"/textures/rainbow.jpg"}))),g=await g,I(),g),h=(0,i.XI)(J.PerspectiveCamera),p=([g,I]=(0,e.mv)((()=>(0,s.DP)("/models/Car.fbx"))),g=await g,I(),g),d=(0,i.XI)(null),m=(0,i.XI)(null),{onLoop:f}=(0,r.gc)();let M=null,b="up";function v(A){const g=h.value.position.x,I=h.value.position.z,C="up",t="down",e="left",a="right";return g>=0&&g>=Math.abs(I)?{up:a,down:e,left:C,right:t}[A]:g<=0&&Math.abs(g)>=Math.abs(I)?{up:e,down:a,left:t,right:C}[A]:I>=0&&Math.abs(I)>=Math.abs(g)?{up:t,down:C,left:a,right:e}[A]:A}function w(A){const g=k(),I=g[0],C=g[1],t=x[I][C]**2/3;let e=0,a=0;switch(b){case"up":a=1;break;case"down":a=-1;break;case"left":e=1;break;case"right":e=-1;break}let i=t*A;for(let o=0;o<d.value.length;o++){let A=d.value[o];A.position.z-=a*i,A.position.x-=e*i}for(let o=0;o<m.value.length;o++){let A=m.value[o];A.position.z-=a*i,A.position.x-=e*i}return M[0]+=e*i,M[1]+=a*i,i}function G(){let A=k(),g=A[0],I=A[1];switch(b){case"up":return 0===g?void 0!==U[g+1]&&1===U[g+1][I]:void 0===U[g+1]?1===U[g-1][I]:1===U[g+1][I]||1===U[g-1][I];case"down":return 0===g?void 0!==U[g+1]&&1===U[g+1][I]:void 0===U[g+1]?1===U[g-1][I]:1===U[g+1][I]||1===U[g-1][I];case"left":return 0===I?1===U[g][I+1]:1===U[g][I+1]||1===U[g][I-1];case"right":return 0===I?1===U[g][I+1]:1===U[g][I+1]||1===U[g][I-1]}}function D(){let A=k(),g=A[0],I=A[1],C=[];return 0!==I&&1===U[g][I-1]&&C.push("down"),void 0!==U[g][I+1]&&1===U[g][I+1]&&C.push("up"),0!==g&&1===U[g-1][I]&&C.push("right"),void 0!==U[g+1]&&1===U[g+1][I]&&C.push("left"),C}function Y(A){switch(b=A,A){case"up":p.rotation.y=0;break;case"down":p.rotation.y=Math.PI;break;case"left":p.rotation.y=Math.PI/2;break;case"right":p.rotation.y=-Math.PI/2;break}p.updateWorldMatrix(!0,!0)}function k(){let A=Math.round(M[0]/oA),g=Math.round(M[1]/oA);return[A,g]}function B(A){let g=A[0],I=A[1],C=g*oA,t=I*oA;return[C,t]}let E="moving",P=null,y=null,Q=null,T=[];function S(){let A=k();if(0===T.length)T.push(A);else{let g=T[T.length-1];g[0]===A[0]&&g[1]===A[1]||T.push(A)}}function Z(){const A=k(),g=A[0],I=A[1];return g===hA[0]&&I===hA[1]}async function O(){M=null,Y("up"),await lA(T),sA(!0),cA(T),T=[]}return f((({delta:A})=>{if(!rA())if(null!==uA&&null===M)M=B(uA);else if(console.log("state="+E+" - toDirection="+y+" - carOrientation="+b+" - distanceToCross="+Q+" - showModal="+rA()),d.value){if(Z()&&!1===rA())return void O();switch(E){case"moving":if(G()){E="stopped",P=k(),pA=null,dA=null;break}w(A);break;case"stopped":if(null==pA)break;if(dA=v(pA),D().includes(dA)){E="crossing",y=dA,b!==y&&Y(y);break}pA=null;break;case"crossing":if(null!==P&&P[0]===k()[0]&&P[1]===k()[1]){if(null!==Q){if(Q>oA/2){Q-=w(A);break}if(Q>0){b!==y&&Y(y),Q-=w(A);break}Q=null;break}Q=oA;break}Q=null,E="moving";break}S()}})),(A,g)=>{const I=(0,e.up)("TresPerspectiveCamera"),f=(0,e.up)("TresBoxGeometry"),M=(0,e.up)("TresMeshStandardMaterial"),b=(0,e.up)("TresMesh"),v=(0,e.up)("TresScene"),w=(0,e.up)("TresAmbientLight");return(0,e.wg)(),(0,e.iD)("div",K,[(0,e.Wm)(V,{"show-modal":A.showModal,score:A.score,aiScore:A.aiScore,onCloseModal:g[0]||(g[0]=g=>A.resetMap())},null,8,["show-modal","score","aiScore"]),A.showModal?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("div",q,[_,(0,e._)("button",{class:"arrows",onClick:g[1]||(g[1]=g=>A.move("up"))},AA),gA,(0,e._)("button",{class:"arrows",onClick:g[2]||(g[2]=g=>A.move("left"))},CA),(0,e._)("button",{class:"arrows",onClick:g[3]||(g[3]=g=>A.move("down"))},eA),(0,e._)("button",{class:"arrows",onClick:g[4]||(g[4]=g=>A.move("right"))},iA)])),(0,e.Wm)((0,i.SU)(r.OV),{"clear-color":"#82DBC5","window-size":"true",class:"canvas"},{default:(0,e.w5)((()=>[(0,e.Wm)(I,{ref_key:"cameraRef",ref:h,position:A.camera.position,"look-at":A.mapCenter,far:A.camera.far},null,8,["position","look-at","far"]),(0,e.Wm)((0,i.SU)(s.zx)),(0,e.Wm)(v,null,{default:(0,e.w5)((()=>[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(A.map,((A,g)=>((0,e.wg)(),(0,e.j4)(b,{key:g,position:A.position,ref_for:!0,ref_key:"boxRef",ref:d},{default:(0,e.w5)((()=>[(0,e.Wm)(f,{args:A.dimensions},null,8,["args"]),"upDown"===A.map?((0,e.wg)(),(0,e.j4)(M,{key:0,map:(0,i.SU)(C).map,color:A.color},null,8,["map","color"])):"leftRight"===A.map?((0,e.wg)(),(0,e.j4)(M,{key:1,map:(0,i.SU)(t).map,color:A.color},null,8,["map","color"])):"other"===A.map?((0,e.wg)(),(0,e.j4)(M,{key:2,map:(0,i.SU)(a).map},null,8,["map"])):"grass"===A.map?((0,e.wg)(),(0,e.j4)(M,{key:3,map:(0,i.SU)(n).map},null,8,["map"])):"rainbow"===A.map?((0,e.wg)(),(0,e.j4)(M,{key:4,map:(0,i.SU)(u).map},null,8,["map"])):"aiPath"===A.map?((0,e.wg)(),(0,e.j4)(M,{key:5,color:"red"})):"humanPath"===A.map?((0,e.wg)(),(0,e.j4)(M,{key:6,color:"blue"})):((0,e.wg)(),(0,e.j4)(M,{key:7,map:(0,i.SU)(n).map},null,8,["map"]))])),_:2},1032,["position"])))),128)),((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(A.intersection,((A,g)=>((0,e.wg)(),(0,e.j4)(b,{key:g,position:A.position,ref_for:!0,ref_key:"intersectionRef",ref:m},{default:(0,e.w5)((()=>[(0,e.Wm)(f,{args:A.dimensions},null,8,["args"]),"light"===A.map?((0,e.wg)(),(0,e.j4)(M,{key:0,map:(0,i.SU)(l).map},null,8,["map"])):"stop"===A.map?((0,e.wg)(),(0,e.j4)(M,{key:1,map:(0,i.SU)(c).map},null,8,["map"])):(0,e.kq)("",!0)])),_:2},1032,["position"])))),128)),((0,e.wg)(),(0,e.j4)(e.n4,null,{default:(0,e.w5)((()=>[(0,e.Wm)(b,(0,o.vs)((0,e.F4)((0,i.SU)(p))),null,16)])),_:1}))])),_:1}),(0,e.Wm)(w,{intensity:4}),(0,e.Uk)(" map.length/2 ")])),_:1})])}}});const MA=(0,R.Z)(fA,[["__scopeId","data-v-15870466"]]);var bA=MA,vA={name:"App",components:{ThreeCanvas:bA}};const wA=(0,R.Z)(vA,[["render",a]]);var GA=wA;t.Z.defaults.baseURL="https://levisium-cia-bb1d6f904c9c.herokuapp.com/",(0,C.ri)(GA).mount("#app")}},g={};function I(C){var t=g[C];if(void 0!==t)return t.exports;var e=g[C]={exports:{}};return A[C](e,e.exports,I),e.exports}I.m=A,function(){var A=[];I.O=function(g,C,t,e){if(!C){var a=1/0;for(s=0;s<A.length;s++){C=A[s][0],t=A[s][1],e=A[s][2];for(var i=!0,o=0;o<C.length;o++)(!1&e||a>=e)&&Object.keys(I.O).every((function(A){return I.O[A](C[o])}))?C.splice(o--,1):(i=!1,e<a&&(a=e));if(i){A.splice(s--,1);var n=t();void 0!==n&&(g=n)}}return g}e=e||0;for(var s=A.length;s>0&&A[s-1][2]>e;s--)A[s]=A[s-1];A[s]=[C,t,e]}}(),function(){I.n=function(A){var g=A&&A.__esModule?function(){return A["default"]}:function(){return A};return I.d(g,{a:g}),g}}(),function(){I.d=function(A,g){for(var C in g)I.o(g,C)&&!I.o(A,C)&&Object.defineProperty(A,C,{enumerable:!0,get:g[C]})}}(),function(){I.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(A){if("object"===typeof window)return window}}()}(),function(){I.o=function(A,g){return Object.prototype.hasOwnProperty.call(A,g)}}(),function(){I.r=function(A){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})}}(),function(){I.p="/"}(),function(){var A={143:0};I.O.j=function(g){return 0===A[g]};var g=function(g,C){var t,e,a=C[0],i=C[1],o=C[2],n=0;if(a.some((function(g){return 0!==A[g]}))){for(t in i)I.o(i,t)&&(I.m[t]=i[t]);if(o)var s=o(I)}for(g&&g(C);n<a.length;n++)e=a[n],I.o(A,e)&&A[e]&&A[e][0](),A[e]=0;return I.O(s)},C=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];C.forEach(g.bind(null,0)),C.push=g.bind(null,C.push.bind(C))}();var C=I.O(void 0,[998],(function(){return I(5337)}));C=I.O(C)})();
//# sourceMappingURL=app.51a57086.js.map