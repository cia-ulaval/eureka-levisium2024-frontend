(function(){"use strict";var t={6356:function(t,e,s){var a=s(9242),n=s(4161),o=s(3396);function i(t,e,s,a,n,i){const r=(0,o.up)("ThreeCanvas");return(0,o.wg)(),(0,o.j4)(o.n4,null,{default:(0,o.w5)((()=>[(0,o.Wm)(r)])),_:1})}s(7658);var r=s(4870),l=s(7139),c=s.p+"img/arrow.9345d8cb.svg",u=s(1639),h=s(3773),p=s.p+"img/face.06127b7b.svg",d=s.p+"img/cloudversify.c4d0d714.svg",m="data:image/png;base64,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",f=s.p+"img/toy.c50812cd.svg";const g={key:0,class:"modal-content"},v=(0,o._)("div",{class:"title-container"},[(0,o._)("h2",null,"VOTRE RÉSULTAT"),(0,o._)("img",{class:"logo-img face-img",src:p,alt:"human"})],-1),w={class:"scoreboard"},A={class:"scoreboard-item"},M=(0,o._)("h3",{class:"score-label"},"CO2",-1),b={class:"score-value"},D={class:"scoreboard-item"},k=(0,o._)("h3",{class:"score-label"},"Temps d'arrêt",-1),P={class:"score-value"},G={class:"containerImg"},y=(0,o._)("img",{class:"car-img",src:m,alt:"car"},null,-1),S=(0,o._)("div",{class:"title-container"},[(0,o._)("h2",null,"LE RÉSULTAT DE L'IA"),(0,o._)("img",{class:"logo-img toy-img",src:f,alt:"robot"})],-1),I={class:"scoreboard"},Y={class:"scoreboard-item"},B=(0,o._)("h3",{class:"score-label"},"CO2",-1),T={class:"score-value"},O={class:"scoreboard-item"},Q=(0,o._)("h3",{class:"score-label"},"Temps d'arrêt",-1),H={class:"score-value"},E={class:"containerImg"},N=(0,o._)("img",{class:"car-img",src:m,alt:"car"},null,-1);function C(t,e,s,a,n,i){return(0,o.wg)(),(0,o.iD)("div",null,[s.showModal?((0,o.wg)(),(0,o.iD)("div",g,[(0,o._)("span",{class:"close",onClick:e[0]||(e[0]=(...t)=>i.closeModal&&i.closeModal(...t))},"×"),v,(0,o._)("div",w,[(0,o._)("div",A,[M,(0,o._)("p",b,(0,l.zw)(s.score.co2)+" g",1)]),(0,o._)("div",D,[k,(0,o._)("p",P,(0,l.zw)(s.score.wait)+" secondes",1)])]),(0,o._)("div",G,[(0,o._)("img",{class:"cloud-img",src:d,alt:"cloud",style:(0,l.j5)({height:s.score.co2/100*120+"px"})},null,4),y]),S,(0,o._)("div",I,[(0,o._)("div",Y,[B,(0,o._)("p",T,(0,l.zw)(s.aiScore.co2)+" g",1)]),(0,o._)("div",O,[Q,(0,o._)("p",H,(0,l.zw)(s.aiScore.wait)+" secondes",1)])]),(0,o._)("div",E,[(0,o._)("img",{class:"cloud-img",src:d,alt:"cloud",style:(0,l.j5)({height:s.aiScore.co2/100*120+"px"})},null,4),N])])):(0,o.kq)("",!0)])}var x={props:{showModal:{type:Boolean,default:!1},score:{default:{co2:0,wait:0}},aiScore:{default:{co2:0,wait:0}}},methods:{closeModal(){this.$emit("close-modal")}}},z=s(89);const R=(0,z.Z)(x,[["render",C]]);var W=R,j=JSON.parse("[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,1,0,1],[1,0,0,1,0,0,0,0,0,1,0,1,1,1,0,0,1,1,1],[1,0,0,1,0,0,0,0,0,1,1,1,0,1,1,1,1,0,1],[1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,0,1,0,1],[1,0,0,0,0,0,0,0,0,1,0,1,1,1,0,0,1,0,1],[1,1,1,0,0,0,1,1,1,1,0,1,0,1,0,0,1,0,1],[1,0,1,1,1,1,1,0,0,1,1,1,0,1,0,0,1,1,1],[1,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,1,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,1,0,1,0,1,0,1,0,1,0,0,1,0,0,0,1],[1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1],[1,0,0,1,0,1,0,0,0,1,0,1,0,0,1,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,1,0,0,0,1,0,1,0,0,0,0,1,0,0,0,0,1],[1,0,1,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1],[1,0,1,1,1,0,1,0,1,0,1,0,0,1,0,1,0,0,1],[1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,0,1],[1,1,1,1,1,1,1,0,0,0,1,0,0,0,0,1,0,0,1],[1,0,0,0,1,0,1,0,1,1,1,0,0,0,0,1,1,1,1],[1,0,0,0,1,0,1,0,1,0,1,0,0,0,0,1,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]"),V=JSON.parse("[[100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100],[100,0,0,50,0,0,0,0,0,50,0,0,0,50,0,0,50,0,70],[100,0,0,50,0,0,0,0,0,50,0,50,50,50,0,0,50,50,70],[100,0,0,50,0,0,0,0,0,50,50,50,0,50,50,50,50,0,70],[100,50,50,50,50,50,50,50,50,50,0,0,0,50,0,0,50,0,70],[100,0,0,0,0,0,0,0,0,50,0,50,50,50,0,0,50,0,70],[100,50,50,0,0,0,50,50,50,50,0,50,0,50,0,0,50,0,70],[100,0,50,50,50,50,50,0,0,50,50,50,0,50,0,0,50,50,70],[100,0,0,0,0,0,50,0,0,50,0,0,0,50,0,0,50,0,70],[100,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70],[100,0,0,50,0,30,0,30,0,30,0,30,0,0,30,0,0,0,70],[100,0,0,50,50,30,50,50,50,30,50,30,30,30,30,0,0,0,70],[100,0,0,50,0,30,0,0,0,30,0,30,0,0,30,0,0,0,70],[100,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70],[100,0,30,0,0,0,50,0,50,0,0,0,0,30,0,0,0,0,70],[100,0,30,0,0,0,50,50,50,50,30,30,30,30,50,50,0,0,70],[100,0,30,30,30,0,50,0,50,0,50,0,0,50,0,30,0,0,70],[100,0,30,0,30,0,50,50,50,50,50,50,50,50,50,30,0,0,70],[100,30,30,30,30,30,30,0,0,0,50,0,0,0,0,30,0,0,70],[100,0,0,0,30,0,30,0,30,30,50,0,0,0,0,30,30,30,70],[100,0,0,0,30,0,30,0,30,0,50,0,0,0,0,30,0,0,70],[100,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70,70]]"),Z=JSON.parse("[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,2,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,2],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,0,0,2,2,0,2,0,0,0,0,2,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,2,0,0,2,1,0,2,0,0,0,0,0,0,0,0,0,2],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,0,2,0,1,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0,2,0,0,0,0,0],[0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,0,0,0,2]]");async function U(){const t=`${n.Z.defaults.baseURL}map`;return n.Z.get(t).then((t=>t.data))}async function L(t){const e=`${n.Z.defaults.baseURL}score`,s={path:t};return n.Z.post(e,s).then((t=>t.data))}const J=t=>((0,o.dD)("data-v-53e4212f"),t=t(),(0,o.Cn)(),t),F={class:"container"},X={key:0,class:"gamePad"},K=J((()=>(0,o._)("br",null,null,-1))),q=J((()=>(0,o._)("img",{src:c,class:"up"},null,-1))),_=[q],$=J((()=>(0,o._)("br",null,null,-1))),tt=J((()=>(0,o._)("img",{src:c,class:"left"},null,-1))),et=[tt],st=J((()=>(0,o._)("img",{src:c,class:"down"},null,-1))),at=[st],nt=J((()=>(0,o._)("img",{src:c,class:"right"},null,-1))),ot=[nt],it=400,rt=200;let lt=null,ct=null,ut=null,ht=null,pt=null,dt=null,mt=null;const ft={name:"ThreeCanvas",components:{OrbitControls:u.zx,TresCanvas:h.OV},data(){return{camera:{position:[0,300,-800],far:1e5},mapCenter:[15,1,13],car:{position:[15,1,13],color:"orange",dimensions:[.5,.5,.5]},map:[],showModal:!1,intersection:[],tensor:j,speedTensor:V,stopTensor:Z,trafficTensor:[],start:[],end:[],score:{},aiScore:{},aiPath:null,humanPath:null}},computed:{carPosition(){return this.car}},methods:{resetMap(){this.aiPath=null,this.path=null,lt(!1),this.setCamera(),this.tensorToMap(),this.tensorToIntersection()},getShowModal(){return this.showModal},setShowModal(t){this.showModal=t},setMap(t){this.humanPath=t,this.setCamera(),this.pathToMap(),this.tensorToIntersection()},setCamera(){this.showModal?(this.camera.position=[0,1e4,-8e3],this.mapCenter=[15,-10,13],this.camera.far=null):(this.camera.position=[0,300,-800],this.camera.far=1e5)},robustGet(t,e,s=null){return e<0||s<0||void 0===t[e]||void 0===t[e][s]?null:t[e][s]},findAppropriateMap(t){function e(e){return e[0]===t[0]&&e[1]===t[1]}if(this.aiPath&&this.aiPath.find(e))return"aiPath";if(this.humanPath&&this.humanPath.find(e))return"humanPath";const s=t[0],a=t[1];return 1===this.robustGet(this.tensor,s,a-1)&&1===this.robustGet(this.tensor,s,a+1)&&1!==this.robustGet(this.tensor,s-1,a)&&1!==this.robustGet(this.tensor,s+1,a)?"upDown":1!==this.robustGet(this.tensor,s,a-1)&&1!==this.robustGet(this.tensor,s,a+1)&&1===this.robustGet(this.tensor,s-1,a)&&1===this.robustGet(this.tensor,s+1,a)?"leftRight":"other"},move(t){switch(t){case"up":mt="up";break;case"left":mt="left";break;case"right":mt="right";break;case"down":mt="down";break;default:break}},findNextIntersection(){const t=this.car.position[0],e=this.car.position[2],s=this.intersection,a=this.tensor;return e>0&&2===a[t][e-1]&&s.push([t,e-1]),e<a[t].length-1&&2===a[t][e+1]&&s.push([t,e+1]),t>0&&2===a[t-1][e]&&s.push([t-1,e]),t<a.length-1&&2===a[t+1][e]&&s.push([t+1,e]),s},tensorToMap(){let t=[],e=this.start[0]*it,s=this.start[1]*it;t.push({position:[this.end[0]*it-e,rt,this.end[1]*it-s],map:"rainbow",dimensions:[it,it,it]});for(let a=0;a<this.tensor.length;a++)for(let n=0;n<this.tensor[a].length;n++){if(1===this.tensor[a][n]){let o=[a*it-e,-rt,n*it-s],i=this.findAppropriateMap([a,n]),r=[it,it,it],l="orange";30===this.speedTensor[a][n]?l="red":70===this.speedTensor[a][n]?l="yellow":100===this.speedTensor[a][n]&&(l="green"),t.push({position:o,color:l,dimensions:r,map:i})}0===this.tensor[a][n]&&t.push({position:[a*it-e,-rt,n*it-s],map:"grass",dimensions:[it,it,it]})}this.map=t},tensorToIntersection(){let t=this.start[0]*it,e=this.start[1]*it,s=[];for(let a=0;a<this.stopTensor.length;a++)for(let n=0;n<this.stopTensor[a].length;n++)1===this.stopTensor[a][n]&&s.push({position:[a*it-t,it-rt,n*it-e],map:"stop",dimensions:[.3*it,.3*it,.3*it]}),2===this.stopTensor[a][n]&&s.push({position:[a*it-t,it-rt,n*it-e],map:"light",dimensions:[.3*it,.3*it,.3*it]});this.intersection=s},pathToMap(){let t=[],e=this.start[0]*it,s=this.start[1]*it;t.push({position:[this.end[0]*it-e,rt,this.end[1]*it-s],map:"rainbow",dimensions:[it,it,it]});for(let a=0;a<this.tensor.length;a++)for(let n=0;n<this.tensor[a].length;n++){if(1===this.tensor[a][n]){let o=[a*it-e,-rt,n*it-s],i=this.findAppropriateMap([a,n]),r=[it,it,it],l="white";t.push({position:o,color:l,dimensions:r,map:i})}0===this.tensor[a][n]&&t.push({position:[a*it-e,-rt,n*it-s],map:"grass",dimensions:[it,it,it]})}this.map=t},async fetchMap(){const t=await U();this.start=t.start,this.end=t.end,this.trafficTensor=t.traffic},async fetchScore(t){const e=await L(t);this.score=e.human_stats,this.aiScore=e.AI_stats,this.aiPath=e.AI_path}},async mounted(){lt=this.setShowModal,ct=this.getShowModal,ut=this.fetchScore,ht=this.setMap,await this.fetchMap(),pt=this.start,dt=this.end,this.tensorToIntersection(),this.tensorToMap()}};var gt=Object.assign(ft,{async setup(t){let e,s;const a=([e,s]=(0,o.mv)((()=>(0,h.mE)({map:"/textures/upDown.jpg"}))),e=await e,s(),e),n=([e,s]=(0,o.mv)((()=>(0,h.mE)({map:"/textures/leftRight.jpg"}))),e=await e,s(),e),i=([e,s]=(0,o.mv)((()=>(0,h.mE)({map:"/textures/otherIntersection.jpg"}))),e=await e,s(),e),c=([e,s]=(0,o.mv)((()=>(0,h.mE)({map:"/textures/grass.jpg"}))),e=await e,s(),e),p=([e,s]=(0,o.mv)((()=>(0,h.mE)({map:"/textures/streetLights.png"}))),e=await e,s(),e),d=([e,s]=(0,o.mv)((()=>(0,h.mE)({map:"/textures/stop.png"}))),e=await e,s(),e),m=([e,s]=(0,o.mv)((()=>(0,h.mE)({map:"/textures/rainbow.jpg"}))),e=await e,s(),e),f=([e,s]=(0,o.mv)((()=>(0,u.DP)("/models/Car.fbx"))),e=await e,s(),e),g=(0,r.XI)(null),v=(0,r.XI)(null),{onLoop:w}=(0,h.gc)();let A=null,M="up";function b(t){const e=G(),s=e[0],a=e[1],n=V[s][a]**2/3;let o=0,i=0;switch(M){case"up":i=1;break;case"down":i=-1;break;case"left":o=1;break;case"right":o=-1;break}let r=n*t;for(let l=0;l<g.value.length;l++){let t=g.value[l];t.position.z-=i*r,t.position.x-=o*r}for(let l=0;l<v.value.length;l++){let t=v.value[l];t.position.z-=i*r,t.position.x-=o*r}return A[0]+=o*r,A[1]+=i*r,r}function D(){let t=G(),e=t[0],s=t[1];switch(M){case"up":return 0===e?void 0!==j[e+1]&&1===j[e+1][s]:void 0===j[e+1]?1===j[e-1][s]:1===j[e+1][s]||1===j[e-1][s];case"down":return 0===e?void 0!==j[e+1]&&1===j[e+1][s]:void 0===j[e+1]?1===j[e-1][s]:1===j[e+1][s]||1===j[e-1][s];case"left":return 0===s?1===j[e][s+1]:1===j[e][s+1]||1===j[e][s-1];case"right":return 0===s?1===j[e][s+1]:1===j[e][s+1]||1===j[e][s-1]}}function k(){let t=G(),e=t[0],s=t[1],a=[];return 0!==s&&1===j[e][s-1]&&a.push("down"),void 0!==j[e][s+1]&&1===j[e][s+1]&&a.push("up"),0!==e&&1===j[e-1][s]&&a.push("right"),void 0!==j[e+1]&&1===j[e+1][s]&&a.push("left"),a}function P(t){switch(M=t,t){case"up":f.rotation.y=0;break;case"down":f.rotation.y=Math.PI;break;case"left":f.rotation.y=Math.PI/2;break;case"right":f.rotation.y=-Math.PI/2;break}f.updateWorldMatrix(!0,!0)}function G(){let t=Math.round(A[0]/it),e=Math.round(A[1]/it);return[t,e]}function y(t){let e=t[0],s=t[1],a=e*it,n=s*it;return[a,n]}let S="moving",I=null,Y=null,B=null,T=[];function O(){let t=G();if(0===T.length)T.push(t);else{let e=T[T.length-1];e[0]===t[0]&&e[1]===t[1]||T.push(t)}}function Q(){const t=G(),e=t[0],s=t[1];return e===dt[0]&&s===dt[1]}async function H(){A=null,P("up"),await ut(T),lt(!0),ht(T)}return w((({delta:t})=>{if(!ct())if(null!==pt&&null===A)A=y(pt);else if(console.log("state="+S+" - toDirection="+Y+" - carOrientation="+M+" - distanceToCross="+B+" - showModal="+ct()),g.value){if(Q()&&!1===ct())return void H();switch(S){case"moving":if(D()){S="stopped",I=G(),mt=null;break}b(t);break;case"stopped":if(null!==mt&&k().includes(mt)){S="crossing",Y=mt,M!==Y&&P(Y);break}break;case"crossing":if(null!==I&&I[0]===G()[0]&&I[1]===G()[1]){if(null!==B){if(B>it/2){B-=b(t);break}if(B>0){M!==Y&&P(Y),B-=b(t);break}B=null;break}B=it;break}B=null,S="moving";break}O()}})),(t,e)=>{const s=(0,o.up)("TresPerspectiveCamera"),w=(0,o.up)("TresBoxGeometry"),A=(0,o.up)("TresMeshStandardMaterial"),M=(0,o.up)("TresMesh"),b=(0,o.up)("TresScene"),D=(0,o.up)("TresAmbientLight");return(0,o.wg)(),(0,o.iD)("div",F,[(0,o.Wm)(W,{"show-modal":t.showModal,score:t.score,aiScore:t.aiScore,onCloseModal:e[0]||(e[0]=e=>t.resetMap())},null,8,["show-modal","score","aiScore"]),t.showModal?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",X,[K,(0,o._)("button",{class:"arrows",onClick:e[1]||(e[1]=e=>t.move("up"))},_),$,(0,o._)("button",{class:"arrows",onClick:e[2]||(e[2]=e=>t.move("left"))},et),(0,o._)("button",{class:"arrows",onClick:e[3]||(e[3]=e=>t.move("down"))},at),(0,o._)("button",{class:"arrows",onClick:e[4]||(e[4]=e=>t.move("right"))},ot)])),(0,o.Wm)((0,r.SU)(h.OV),{"clear-color":"#82DBC5","window-size":"true",class:"canvas"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{position:t.camera.position,"look-at":t.mapCenter,far:t.camera.far},null,8,["position","look-at","far"]),(0,o.Wm)((0,r.SU)(u.zx)),(0,o.Wm)(b,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.map,((t,e)=>((0,o.wg)(),(0,o.j4)(M,{key:e,position:t.position,ref_for:!0,ref_key:"boxRef",ref:g},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{args:t.dimensions},null,8,["args"]),"upDown"===t.map?((0,o.wg)(),(0,o.j4)(A,{key:0,map:(0,r.SU)(a).map,color:t.color},null,8,["map","color"])):"leftRight"===t.map?((0,o.wg)(),(0,o.j4)(A,{key:1,map:(0,r.SU)(n).map,color:t.color},null,8,["map","color"])):"other"===t.map?((0,o.wg)(),(0,o.j4)(A,{key:2,map:(0,r.SU)(i).map},null,8,["map"])):"grass"===t.map?((0,o.wg)(),(0,o.j4)(A,{key:3,map:(0,r.SU)(c).map},null,8,["map"])):"rainbow"===t.map?((0,o.wg)(),(0,o.j4)(A,{key:4,map:(0,r.SU)(m).map},null,8,["map"])):"aiPath"===t.map?((0,o.wg)(),(0,o.j4)(A,{key:5,color:"red"})):"humanPath"===t.map?((0,o.wg)(),(0,o.j4)(A,{key:6,color:"blue"})):((0,o.wg)(),(0,o.j4)(A,{key:7,map:(0,r.SU)(c).map},null,8,["map"]))])),_:2},1032,["position"])))),128)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.intersection,((t,e)=>((0,o.wg)(),(0,o.j4)(M,{key:e,position:t.position,ref_for:!0,ref_key:"intersectionRef",ref:v},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{args:t.dimensions},null,8,["args"]),"light"===t.map?((0,o.wg)(),(0,o.j4)(A,{key:0,map:(0,r.SU)(p).map},null,8,["map"])):"stop"===t.map?((0,o.wg)(),(0,o.j4)(A,{key:1,map:(0,r.SU)(d).map},null,8,["map"])):(0,o.kq)("",!0)])),_:2},1032,["position"])))),128)),((0,o.wg)(),(0,o.j4)(o.n4,null,{default:(0,o.w5)((()=>[(0,o.Wm)(M,(0,l.vs)((0,o.F4)((0,r.SU)(f))),null,16)])),_:1}))])),_:1}),(0,o.Wm)(D,{intensity:4}),(0,o.Uk)(" map.length/2 ")])),_:1})])}}});const vt=(0,z.Z)(gt,[["__scopeId","data-v-53e4212f"]]);var wt=vt,At={name:"App",components:{ThreeCanvas:wt}};const Mt=(0,z.Z)(At,[["render",i]]);var bt=Mt;n.Z.defaults.baseURL="https://levisium-cia-bb1d6f904c9c.herokuapp.com/",(0,a.ri)(bt).mount("#app")}},e={};function s(a){var n=e[a];if(void 0!==n)return n.exports;var o=e[a]={exports:{}};return t[a](o,o.exports,s),o.exports}s.m=t,function(){var t=[];s.O=function(e,a,n,o){if(!a){var i=1/0;for(u=0;u<t.length;u++){a=t[u][0],n=t[u][1],o=t[u][2];for(var r=!0,l=0;l<a.length;l++)(!1&o||i>=o)&&Object.keys(s.O).every((function(t){return s.O[t](a[l])}))?a.splice(l--,1):(r=!1,o<i&&(i=o));if(r){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[a,n,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,o,i=a[0],r=a[1],l=a[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(l)var u=l(s)}for(e&&e(a);c<i.length;c++)o=i[c],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(u)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(6356)}));a=s.O(a)})();
//# sourceMappingURL=app.25e158f0.js.map